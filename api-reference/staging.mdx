---
title: 'Staging Environment'
description: 'Test your integration safely with our staging environment'
---

# Staging Environment

The Loyalty.lt API provides a dedicated staging environment for testing your integrations before going live with production data.

## Staging vs Production

| Feature | Staging | Production |
|---------|---------|------------|
| Base URL | `https://staging-api.loyalty.lt` | `https://api.loyalty.lt` |
| Data | Demo/test data | Real customer data |
| API Credentials | Staging credentials only | Production credentials only |
| Weekly reset | Yes (Sundays) | No |

## Getting Staging API Credentials

1. Log in to the [Partners Portal](https://partners.loyalty.lt)
2. Navigate to **Settings** â†’ **API Credentials**
3. Click **Create New Credential**
4. Select **Environment: Staging**
5. Save your API Key and Secret (shown only once!)

<Warning>
  Staging credentials only work with the staging API (`staging-api.loyalty.lt`).
  Production credentials only work with the production API (`api.loyalty.lt`).
</Warning>

## Demo Test Data

The staging environment includes pre-configured demo data for testing:

### Demo Loyalty Cards

Card numbers use the format `XXX-XXX-XXX`. Demo cards start with `900-`:

| Card Number | Phone | Email | Points |
|-------------|-------|-------|--------|
| `900-001-001` | +37060000001 | demo1@loyalty.lt | 1000 |
| `900-002-001` | +37060000002 | demo2@loyalty.lt | 2500 |
| `900-003-001` | +37060000003 | demo3@loyalty.lt | 500 |
| `900-004-001` | +37060000004 | demo4@loyalty.lt | 10000 |
| `900-005-001` | +37060000005 | demo5@loyalty.lt | 150 |

<Info>
  Card number format: `900-{user_id}-{partner_id}` where IDs are zero-padded to 3 digits.
</Info>

### Demo Staff Accounts

For testing staff-related operations:

| Email | Role |
|-------|------|
| demo.manager@loyalty.lt | Manager |
| demo.cashier@loyalty.lt | Cashier |

## SDK Configuration

### JavaScript SDK

```javascript
import LoyaltySDK from '@loyaltylt/sdk';

const sdk = new LoyaltySDK({
  apiKey: 'your_staging_api_key',
  apiSecret: 'your_staging_api_secret',
  environment: 'staging', // Uses staging-api.loyalty.lt
  locale: 'lt'
});
```

### PHP SDK

```php
use LoyaltyLt\SDK\LoyaltySDK;

$sdk = new LoyaltySDK(
    apiKey: 'your_staging_api_key',
    apiSecret: 'your_staging_api_secret',
    environment: 'staging'
);
```

### Python SDK

```python
from loyalty_sdk import LoyaltySDK

sdk = LoyaltySDK(
    api_key='your_staging_api_key',
    api_secret='your_staging_api_secret',
    environment='staging'
)
```

## Weekly Data Reset

<Note>
  The staging environment is reset every **Sunday at 05:00 EET**. 
  All test transactions and temporary data are cleared.
  Demo cards and partner catalog data are preserved.
</Note>

### What Gets Reset

- Customer transactions
- Point awards/redemptions
- Game progress and sessions
- Coupon redemptions
- Activity logs

### What Gets Preserved

- Partner settings and catalog (products, games, offers)
- Demo loyalty cards
- Demo staff accounts
- API credentials

## Testing Recommendations

### 1. Test the Full Flow

```javascript
// 1. Validate credentials
await sdk.validateCredentials();

// 2. Get customer by card
const customer = await sdk.getPartnerCard('900-001-001');

// 3. Award points
await sdk.awardPoints('900-001-001', 100, 'Test purchase', 'TEST-001');

// 4. Check balance
const balance = await sdk.getCardBalance('900-001-001');
```

### 2. Test Error Handling

Use invalid card numbers to test error handling:

```javascript
try {
  await sdk.getPartnerCard('invalid-card');
} catch (error) {
  console.log('Error code:', error.errorCode);
  console.log('Message:', error.message);
}
```

### 3. Test Games & Coupons

```javascript
// List available games
const games = await sdk.listShopGames();

// Get customer's games
const cardGames = await sdk.getCardGames('900-001-001');

// Get customer's coupons
const coupons = await sdk.getCardCoupons('900-001-001');
```

## Rate Limits

Staging environment has the same rate limits as production:

- **100 requests per minute** per API credential
- **1000 requests per hour** per partner

## Troubleshooting

### Common Issues

<AccordionGroup>
  <Accordion title="401 Unauthorized">
    - Verify you're using staging credentials with staging API URL
    - Check that credentials are active in the Partners Portal
    - Ensure the API key and secret are correct
  </Accordion>
  
  <Accordion title="404 Card Not Found">
    - Use demo card numbers listed above
    - Cards created in production don't exist in staging
    - Wait for weekly sync if testing with specific partner data
  </Accordion>
  
  <Accordion title="Connection Timeout">
    - Staging server may have higher latency than production
    - Increase timeout settings in your SDK configuration
  </Accordion>
</AccordionGroup>

## Support

If you encounter issues with the staging environment:

- Email: [developers@loyalty.lt](mailto:developers@loyalty.lt)
- Include your partner ID and error details

