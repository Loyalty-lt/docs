---
title: "Import from File"
description: "Import products from an uploaded XML file"
api: "POST /{locale}/shop/xml-import/from-file"
---

# Import from File

Upload and import products from an XML file. Maximum file size is 10MB.

<Info>
This endpoint requires **Shop API authentication** using `X-API-Key` and `X-API-Secret` headers.
</Info>

## Path Parameters

<ParamField path="locale" type="string" required>
  Language code (e.g., `en`, `lt`)
</ParamField>

## Authentication

<ParamField header="X-API-Key" type="string" required>
  API key from Partners Portal
</ParamField>

<ParamField header="X-API-Secret" type="string" required>
  API secret from Partners Portal
</ParamField>

## Request Body (multipart/form-data)

<ParamField body="xml_file" type="file" required>
  XML file to import
  
  - **Max size:** 10 MB
  - **Allowed types:** `application/xml`, `text/xml`
</ParamField>

<ParamField body="validate_only" type="boolean" default="false">
  If `true`, only validates XML structure without importing
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if import was successful
</ResponseField>

<ResponseField name="code" type="integer">
  HTTP status code or error code
</ResponseField>

<ResponseField name="request_id" type="string">
  Unique request identifier (UUID)
</ResponseField>

<ResponseField name="message" type="string">
  Status message
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="data">
    <ResponseField name="products_created" type="integer">
      Number of new products created
    </ResponseField>
    
    <ResponseField name="products_updated" type="integer">
      Number of existing products updated
    </ResponseField>
    
    <ResponseField name="offers_created" type="integer">
      Number of new offers created
    </ResponseField>
    
    <ResponseField name="offers_updated" type="integer">
      Number of existing offers updated
    </ResponseField>
    
    <ResponseField name="errors" type="array">
      List of any errors encountered during import
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash cURL
curl -X POST "https://staging-api.loyalty.lt/lt/shop/xml-import/from-file" \
  -H "X-API-Key: your_api_key" \
  -H "X-API-Secret: your_api_secret" \
  -F "xml_file=@products.xml"
```

```bash cURL - Validate Only
curl -X POST "https://staging-api.loyalty.lt/lt/shop/xml-import/from-file" \
  -H "X-API-Key: your_api_key" \
  -H "X-API-Secret: your_api_secret" \
  -F "xml_file=@products.xml" \
  -F "validate_only=true"
```

```javascript JavaScript
const formData = new FormData();
formData.append('xml_file', fileInput.files[0]);

const response = await fetch('https://staging-api.loyalty.lt/lt/shop/xml-import/from-file', {
  method: 'POST',
  headers: {
    'X-API-Key': 'your_api_key',
    'X-API-Secret': 'your_api_secret'
  },
  body: formData
});

const data = await response.json();
console.log(`Created: ${data.data.products_created} products`);
```

```php PHP
<?php
$curl = curl_init();

curl_setopt_array($curl, [
    CURLOPT_URL => 'https://staging-api.loyalty.lt/lt/shop/xml-import/from-file',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_POST => true,
    CURLOPT_HTTPHEADER => [
        'X-API-Key: your_api_key',
        'X-API-Secret: your_api_secret'
    ],
    CURLOPT_POSTFIELDS => [
        'xml_file' => new CURLFile('products.xml', 'application/xml')
    ]
]);

$response = curl_exec($curl);
curl_close($curl);

$result = json_decode($response, true);
print_r($result);
```

</RequestExample>

<ResponseExample>

```json Success Response (200)
{
  "success": true,
  "code": 200,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "XML import completed successfully",
  "data": {
    "products_created": 150,
    "products_updated": 45,
    "offers_created": 150,
    "offers_updated": 45,
    "errors": []
  }
}
```

```json Invalid File Type (422)
{
  "success": false,
  "code": 1100,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "Validation failed",
  "errors": {
    "xml_file": ["The xml file must be a file of type: xml."]
  }
}
```

```json File Too Large (422)
{
  "success": false,
  "code": 1100,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "Validation failed",
  "errors": {
    "xml_file": ["The xml file must not be greater than 10240 kilobytes."]
  }
}
```

```json Import Failed (400)
{
  "success": false,
  "code": 1700,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "XML import failed: No products found in XML"
}
```

</ResponseExample>

## Limits

| Limit | Value |
|-------|-------|
| Maximum file size | 10 MB |
| Allowed MIME types | `application/xml`, `text/xml` |

## Error Codes

| Code | Name | Description |
|------|------|-------------|
| 1100 | VALIDATION_FAILED | Invalid file or parameters |
| 1700 | XML_IMPORT_FAILED | Import process failed |
| 1706 | XML_FILE_TOO_LARGE | File exceeds 10MB limit |

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Import from URL" icon="link" href="/api-reference/endpoints/shop/xml-import/from-url">
    Import from external URL
  </Card>
  
  <Card title="Field Mappings" icon="table" href="/api-reference/endpoints/shop/xml-import/field-mappings">
    View supported XML fields
  </Card>
</CardGroup>
