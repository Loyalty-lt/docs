---
title: "Import from URL"
description: "Import products from an external XML URL"
api: "POST /{locale}/shop/xml-import/from-url"
---

# Import from URL

Import products and offers from an external XML feed URL. This is useful for syncing your product catalog from e-commerce platforms or ERP systems.

<Info>
This endpoint requires **Partner API authentication** using `X-API-Key` and `X-API-Secret` headers.
</Info>

## Path Parameters

<ParamField path="locale" type="string" required>
  Language code (e.g., `en`, `lt`)
</ParamField>

## Authentication

<ParamField header="X-API-Key" type="string" required>
  Partner API key from Partners Portal
</ParamField>

<ParamField header="X-API-Secret" type="string" required>
  Partner API secret from Partners Portal
</ParamField>

## Request Body

<ParamField body="xml_url" type="string" required>
  URL to the XML feed
  
  **Example:** `"https://example.com/products.xml"`
</ParamField>

<ParamField body="validate_only" type="boolean" default="false">
  If `true`, only validates XML structure without importing
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if import was successful
</ResponseField>

<ResponseField name="code" type="integer">
  HTTP status code or error code
</ResponseField>

<ResponseField name="request_id" type="string">
  Unique request identifier (UUID)
</ResponseField>

<ResponseField name="message" type="string">
  Status message
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="data">
    <ResponseField name="products_created" type="integer">
      Number of new products created
    </ResponseField>
    
    <ResponseField name="products_updated" type="integer">
      Number of existing products updated
    </ResponseField>
    
    <ResponseField name="offers_created" type="integer">
      Number of new offers created
    </ResponseField>
    
    <ResponseField name="offers_updated" type="integer">
      Number of existing offers updated
    </ResponseField>
    
    <ResponseField name="errors" type="array">
      List of any errors encountered during import
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash cURL - Import
curl -X POST "https://staging-api.loyalty.lt/lt/shop/xml-import/from-url" \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key" \
  -H "X-API-Secret: your_api_secret" \
  -d '{
    "xml_url": "https://example.com/products.xml"
  }'
```

```bash cURL - Validate Only
curl -X POST "https://staging-api.loyalty.lt/lt/shop/xml-import/from-url" \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key" \
  -H "X-API-Secret: your_api_secret" \
  -d '{
    "xml_url": "https://example.com/products.xml",
    "validate_only": true
  }'
```

```javascript JavaScript
const response = await fetch('https://staging-api.loyalty.lt/lt/shop/xml-import/from-url', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-API-Key': 'your_api_key',
    'X-API-Secret': 'your_api_secret'
  },
  body: JSON.stringify({
    xml_url: 'https://example.com/products.xml'
  })
});

const data = await response.json();
console.log(`Created: ${data.data.products_created} products`);
console.log(`Updated: ${data.data.products_updated} products`);
```

```php PHP
<?php
$response = file_get_contents('https://staging-api.loyalty.lt/lt/shop/xml-import/from-url', false, stream_context_create([
    'http' => [
        'method' => 'POST',
        'header' => [
            'Content-Type: application/json',
            'X-API-Key: your_api_key',
            'X-API-Secret: your_api_secret'
        ],
        'content' => json_encode([
            'xml_url' => 'https://example.com/products.xml'
        ])
    ]
]));

$result = json_decode($response, true);
print_r($result);
```

</RequestExample>

<ResponseExample>

```json Success Response (200)
{
  "success": true,
  "code": 200,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "XML import completed successfully",
  "data": {
    "products_created": 150,
    "products_updated": 45,
    "offers_created": 150,
    "offers_updated": 45,
    "errors": []
  }
}
```

```json Validation Only Response (200)
{
  "success": true,
  "code": 200,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "XML validation completed",
  "data": {
    "is_valid": true,
    "product_count": 195,
    "structure": {
      "detected_path": "products/product",
      "sample_fields": [
        { "name": "name", "value": "Product Name", "has_children": false },
        { "name": "price", "value": "29.99", "has_children": false }
      ]
    },
    "errors": []
  }
}
```

```json Validation Error (422)
{
  "success": false,
  "code": 1100,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "Validation failed",
  "errors": {
    "xml_url": ["The xml url field is required."]
  }
}
```

```json Import Failed (400)
{
  "success": false,
  "code": 1700,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "XML import failed: Could not load XML content"
}
```

</ResponseExample>

## Security

<Warning>
The API includes SSRF protection. The following URLs are blocked:
- `localhost`, `127.0.0.1`, `0.0.0.0`
- Private IP ranges (10.x.x.x, 192.168.x.x, 172.16-31.x.x)
- Cloud metadata endpoints (169.254.x.x)
</Warning>

## Error Codes

| Code | Name | Description |
|------|------|-------------|
| 1100 | VALIDATION_FAILED | Invalid request parameters |
| 1700 | XML_IMPORT_FAILED | Import process failed |
| 1701 | XML_VALIDATION_ERROR | XML structure validation failed |

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Import from File" icon="file-arrow-up" href="/api-reference/endpoints/shop/xml-import/from-file">
    Upload and import XML file
  </Card>
  
  <Card title="Validate XML" icon="check" href="/api-reference/endpoints/shop/xml-import/validate">
    Validate XML structure only
  </Card>
  
  <Card title="Field Mappings" icon="table" href="/api-reference/endpoints/shop/xml-import/field-mappings">
    View supported XML fields
  </Card>
</CardGroup>
