---
title: "Validate XML"
description: "Validate XML structure without importing"
api: "POST /{locale}/shop/xml-import/validate"
---

# Validate XML

Validate an XML feed structure without actually importing the data. Use this to test your XML format before running a full import.

<Info>
This endpoint requires **Partner API authentication** using `X-API-Key` and `X-API-Secret` headers.
</Info>

## Path Parameters

<ParamField path="locale" type="string" required>
  Language code (e.g., `en`, `lt`)
</ParamField>

## Authentication

<ParamField header="X-API-Key" type="string" required>
  Partner API key from Partners Portal
</ParamField>

<ParamField header="X-API-Secret" type="string" required>
  Partner API secret from Partners Portal
</ParamField>

## Request Body

<ParamField body="xml_url" type="string" required>
  URL to the XML feed to validate
  
  **Example:** `"https://example.com/products.xml"`
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if validation completed
</ResponseField>

<ResponseField name="code" type="integer">
  HTTP status code or error code
</ResponseField>

<ResponseField name="request_id" type="string">
  Unique request identifier (UUID)
</ResponseField>

<ResponseField name="message" type="string">
  Status message
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="data">
    <ResponseField name="is_valid" type="boolean">
      `true` if products were found in XML
    </ResponseField>
    
    <ResponseField name="product_count" type="integer">
      Number of products detected
    </ResponseField>
    
    <ResponseField name="structure" type="object">
      <Expandable title="structure">
        <ResponseField name="detected_path" type="string">
          XML path pattern that matched (e.g., `products/product`)
        </ResponseField>
        
        <ResponseField name="sample_fields" type="array">
          Sample of fields from first product
        </ResponseField>
      </Expandable>
    </ResponseField>
    
    <ResponseField name="errors" type="array">
      List of validation errors
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash cURL
curl -X POST "https://staging-api.loyalty.lt/lt/shop/xml-import/validate" \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key" \
  -H "X-API-Secret: your_api_secret" \
  -d '{
    "xml_url": "https://example.com/products.xml"
  }'
```

```javascript JavaScript
const response = await fetch('https://staging-api.loyalty.lt/lt/shop/xml-import/validate', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-API-Key': 'your_api_key',
    'X-API-Secret': 'your_api_secret'
  },
  body: JSON.stringify({
    xml_url: 'https://example.com/products.xml'
  })
});

const data = await response.json();

if (data.data.is_valid) {
  console.log(`Found ${data.data.product_count} products`);
  console.log(`XML structure: ${data.data.structure.detected_path}`);
} else {
  console.log('Validation errors:', data.data.errors);
}
```

</RequestExample>

<ResponseExample>

```json Valid XML (200)
{
  "success": true,
  "code": 200,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "XML validation completed",
  "data": {
    "is_valid": true,
    "product_count": 250,
    "structure": {
      "detected_path": "products/product",
      "sample_fields": [
        {
          "name": "id",
          "value": "12345",
          "has_children": false
        },
        {
          "name": "name",
          "value": "Samsung Galaxy S24",
          "has_children": false
        },
        {
          "name": "price",
          "value": "899.00",
          "has_children": false
        },
        {
          "name": "categories",
          "value": "Complex element",
          "has_children": true
        }
      ]
    },
    "errors": []
  }
}
```

```json Invalid XML - No Products (200)
{
  "success": true,
  "code": 200,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "XML validation completed",
  "data": {
    "is_valid": false,
    "product_count": 0,
    "structure": {},
    "errors": ["No products found in XML"]
  }
}
```

```json Validation Error (422)
{
  "success": false,
  "code": 1100,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "Validation failed",
  "errors": {
    "xml_url": ["The xml url field is required."]
  }
}
```

```json XML Parse Error (400)
{
  "success": false,
  "code": 1701,
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "XML validation failed: Could not parse XML"
}
```

</ResponseExample>

## Detected Paths

The validator checks for these common XML structures:

| Path Pattern | Example |
|--------------|---------|
| `product` | `<product>...</product>` |
| `item` | `<item>...</item>` |
| `products/product` | `<products><product>...</product></products>` |
| `items/item` | `<items><item>...</item></items>` |
| `offer` | `<offer>...</offer>` |
| `offers/offer` | `<offers><offer>...</offer></offers>` |

## Error Codes

| Code | Name | Description |
|------|------|-------------|
| 1100 | VALIDATION_FAILED | Invalid request parameters |
| 1701 | XML_VALIDATION_ERROR | XML structure validation failed |

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Import from URL" icon="link" href="/api-reference/endpoints/shop/xml-import/from-url">
    Import products from URL
  </Card>
  
  <Card title="Field Mappings" icon="table" href="/api-reference/endpoints/shop/xml-import/field-mappings">
    View supported XML fields
  </Card>
</CardGroup>
